{"ast":null,"code":"import React from \"react\";\nconst clientId = '9695df66110c4070ab27fdcb07f9d022';\nconst clientSecret = 'eb859c7faacb4037977fed00a8d04b19';\nconst urlToken = 'https://accounts.spotify.com/api/token';\nconst headersToken = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\nconst body = new URLSearchParams({\n  'grant_type': 'client_credentials',\n  'client_id': clientId,\n  'client_secret': clientSecret\n});\nasync function getToken() {\n  try {\n    const response = await fetch(urlToken, {\n      method: 'POST',\n      headers: headersToken,\n      body: body\n    });\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.log(\"Error:\", error);\n  }\n}\nconst urlSearch = 'https://api.spotify.com/v1/search?q=';\nconst trackLimit = '15';\nconst options = '&type=track&limit=';\nasync function getData(songTitle) {\n  const token = await getToken();\n  const urlToFetch = `${urlSearch}${songTitle}${options}${trackLimit}`;\n  const headersSearch = {\n    'Authorization': `${token.token_type} ${token.access_token}`\n  };\n  fetch(urlToFetch, {\n    method: 'GET',\n    headers: headersSearch\n  }).then(response => response.json()).then(data => {\n    console.log(data.tra);\n    console.log('-------------');\n    return data;\n  }).catch(error => console.log(\"Error:\", error));\n}\nexport default getData;","map":{"version":3,"names":["React","clientId","clientSecret","urlToken","headersToken","body","URLSearchParams","getToken","response","fetch","method","headers","data","json","error","console","log","urlSearch","trackLimit","options","getData","songTitle","token","urlToFetch","headersSearch","token_type","access_token","then","tra","catch"],"sources":["/Users/s.kharlanov/Documents/FnD/github/react/jammming/src/modules/fetch.js"],"sourcesContent":["import React from \"react\";\nconst clientId = '9695df66110c4070ab27fdcb07f9d022';\nconst clientSecret = 'eb859c7faacb4037977fed00a8d04b19';\nconst urlToken = 'https://accounts.spotify.com/api/token';\nconst headersToken = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n}\n\nconst body = new URLSearchParams({\n  'grant_type': 'client_credentials',\n  'client_id': clientId,\n  'client_secret': clientSecret\n});\n\nasync function getToken () {\n  try {\n    const response = await fetch(urlToken, {\n      method: 'POST',\n      headers: headersToken,\n      body: body\n    });\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.log(\"Error:\", error);\n  }\n}\n\nconst urlSearch = 'https://api.spotify.com/v1/search?q=';\nconst trackLimit = '15';\nconst options = '&type=track&limit=';\n\nasync function getData (songTitle) {\n  const token = await getToken();  \n  const urlToFetch = `${urlSearch}${songTitle}${options}${trackLimit}`;\n  const headersSearch = {\n    'Authorization': `${token.token_type} ${token.access_token}`\n  }\n\n  fetch(urlToFetch, {\n    method: 'GET',\n    headers: headersSearch\n  })\n  .then(response => response.json())\n  .then(data => {\n    console.log(data.tra); console.log('-------------');\n    return data;\n  })\n  .catch(error => console.log(\"Error:\", error));\n}\n\nexport default getData;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,MAAMC,QAAQ,GAAG,kCAAkC;AACnD,MAAMC,YAAY,GAAG,kCAAkC;AACvD,MAAMC,QAAQ,GAAG,wCAAwC;AACzD,MAAMC,YAAY,GAAG;EACnB,cAAc,EAAE;AAClB,CAAC;AAED,MAAMC,IAAI,GAAG,IAAIC,eAAe,CAAC;EAC/B,YAAY,EAAE,oBAAoB;EAClC,WAAW,EAAEL,QAAQ;EACrB,eAAe,EAAEC;AACnB,CAAC,CAAC;AAEF,eAAeK,QAAQA,CAAA,EAAI;EACzB,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACN,QAAQ,EAAE;MACrCO,MAAM,EAAE,MAAM;MACdC,OAAO,EAAEP,YAAY;MACrBC,IAAI,EAAEA;IACR,CAAC,CAAC;IACF,MAAMO,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC;IAClC,OAAOD,IAAI;EACb,CAAC,CAAC,OAAOE,KAAK,EAAE;IACdC,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEF,KAAK,CAAC;EAC9B;AACF;AAEA,MAAMG,SAAS,GAAG,sCAAsC;AACxD,MAAMC,UAAU,GAAG,IAAI;AACvB,MAAMC,OAAO,GAAG,oBAAoB;AAEpC,eAAeC,OAAOA,CAAEC,SAAS,EAAE;EACjC,MAAMC,KAAK,GAAG,MAAMf,QAAQ,CAAC,CAAC;EAC9B,MAAMgB,UAAU,GAAG,GAAGN,SAAS,GAAGI,SAAS,GAAGF,OAAO,GAAGD,UAAU,EAAE;EACpE,MAAMM,aAAa,GAAG;IACpB,eAAe,EAAE,GAAGF,KAAK,CAACG,UAAU,IAAIH,KAAK,CAACI,YAAY;EAC5D,CAAC;EAEDjB,KAAK,CAACc,UAAU,EAAE;IAChBb,MAAM,EAAE,KAAK;IACbC,OAAO,EAAEa;EACX,CAAC,CAAC,CACDG,IAAI,CAACnB,QAAQ,IAAIA,QAAQ,CAACK,IAAI,CAAC,CAAC,CAAC,CACjCc,IAAI,CAACf,IAAI,IAAI;IACZG,OAAO,CAACC,GAAG,CAACJ,IAAI,CAACgB,GAAG,CAAC;IAAEb,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC;IACnD,OAAOJ,IAAI;EACb,CAAC,CAAC,CACDiB,KAAK,CAACf,KAAK,IAAIC,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEF,KAAK,CAAC,CAAC;AAC/C;AAEA,eAAeM,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}